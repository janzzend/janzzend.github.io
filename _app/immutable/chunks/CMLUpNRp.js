import{c as S,a as y,f as j,r as Z}from"./DUy0_PCv.js";import{i as N}from"./B310oLWm.js";import{aD as tt,aG as et,aH as K,p,H as k,d as A,J as I,f as C,a as z,c as F,r as Q,b as x,I as O,g as v,K as q,u as D}from"./DDR7ydvu.js";import{o as at,p as st,q as nt,m as G,t as J,b as w,a as R,j as V,c as L}from"./BCCepN4P.js";import{l as m,p as u,i as B,b as H,d as lt,s as X,a as Y,c as U}from"./CULy4_op.js";import{o as rt}from"./6kc6jfFL.js";import{t as ot,r as it,g as dt}from"./DLtaWUFw.js";import{c as ct}from"./B9zgB7jn.js";const ut={src:"",delayMs:0,onLoadingStatusChange:void 0},ft=s=>{const t={...ut,...s},n=ot(at(t,"loadingStatus","onLoadingStatusChange")),{src:f,delayMs:e}=n,d=t.loadingStatus??tt("loading"),i=rt(d,t?.onLoadingStatusChange);st([f,e],([r,_])=>{if(nt){const h=new Image;h.src=r,h.onload=()=>{if(e!==void 0){const $=window.setTimeout(()=>{i.set("loaded")},_);return()=>window.clearTimeout($)}else i.set("loaded")},h.onerror=()=>{i.set("error")}}});const l=G("avatar-image",{stores:[f,i],returned:([r,_])=>{const h=J({display:_==="loaded"?"block":"none"});return{src:r,style:h}}}),c=G("avatar-fallback",{stores:[i],returned:([r])=>({style:r==="loaded"?J({display:"none"}):void 0,hidden:r==="loaded"?!0:void 0})});return{elements:{image:l,fallback:c},states:{loadingStatus:i},options:n}};function W(){return{NAME:"avatar",PARTS:["root","image","fallback"]}}function gt(s){const{NAME:t,PARTS:n}=W(),f=ct(t,n),e={...ft(it(s)),getAttrs:f};return et(t,e),{...e,updateOption:dt(e.options)}}function vt(s=""){const{NAME:t}=W(),n=K(t);return s?n.options.src.set(s):n.options.src.set(""),n}function mt(){const{NAME:s}=W();return K(s)}var _t=j("<div><!></div>");function ht(s,t){const n=m(t,["children","$$slots","$$events","$$legacy"]),f=m(n,["delayMs","loadingStatus","onLoadingStatusChange","asChild","el"]);p(t,!1);let e=u(t,"delayMs",24,()=>{}),d=u(t,"loadingStatus",28,()=>{}),i=u(t,"onLoadingStatusChange",24,()=>{}),l=u(t,"asChild",8,!1),c=u(t,"el",28,()=>{});const{states:{loadingStatus:r},updateOption:_,getAttrs:h}=gt({src:"",delayMs:e(),onLoadingStatusChange:({next:o})=>(d(o),i()?.(o),o)}),$=h("root");k(()=>A(d()),()=>{d()!==void 0&&r.set(d())}),k(()=>A(e()),()=>{_("delayMs",e())}),I(),N();var M=S(),P=C(M);{var E=o=>{var a=S(),g=C(a);w(g,t,"default",{get attrs(){return $}}),y(o,a)},T=o=>{var a=_t();R(a,()=>({...f,...$}));var g=F(a);w(g,t,"default",{get attrs(){return $}}),Q(a),H(a,b=>c(b),()=>c()),y(o,a)};B(P,o=>{l()?o(E):o(T,!1)})}y(s,M),z()}var bt=j("<img/>");function yt(s,t){const n=m(t,["children","$$slots","$$events","$$legacy"]),f=m(n,["src","alt","asChild","el"]);p(t,!1);const e=()=>X(v(l),"$image",d),[d,i]=Y(),l=O(),c=O();let r=u(t,"src",24,()=>{}),_=u(t,"alt",24,()=>{}),h=u(t,"asChild",8,!1),$=u(t,"el",28,()=>{});const M={"data-bits-avatar-image":""};k(()=>A(r()),()=>{lt(x(l,vt(r()).elements.image),"$image",d)}),k(()=>e(),()=>{x(c,e())}),k(()=>v(c),()=>{Object.assign(v(c),M)}),I(),N();var P=S(),E=C(P);{var T=a=>{var g=S(),b=C(g);w(b,t,"default",{get builder(){return v(c)}}),y(a,g)},o=a=>{var g=bt();R(g,()=>({...v(c),alt:_(),...f})),H(g,b=>$(b),()=>$()),V(g,b=>v(c).action?.(b)),Z(g),y(a,g)};B(E,a=>{h()?a(T):a(o,!1)})}y(s,P),z(),i()}var $t=j("<span><!></span>");function At(s,t){const n=m(t,["children","$$slots","$$events","$$legacy"]),f=m(n,["asChild","el"]);p(t,!1);const e=()=>X(_,"$fallback",d),[d,i]=Y(),l=O();let c=u(t,"asChild",8,!1),r=u(t,"el",28,()=>{});const{elements:{fallback:_},getAttrs:h}=mt(),$=h("fallback");k(()=>e(),()=>{x(l,e())}),k(()=>v(l),()=>{Object.assign(v(l),$)}),I(),N();var M=S(),P=C(M);{var E=o=>{var a=S(),g=C(a);w(g,t,"default",{get builder(){return v(l)}}),y(o,a)},T=o=>{var a=$t();R(a,()=>({...v(l),...f}));var g=F(a);w(g,t,"default",{get builder(){return v(l)}}),Q(a),H(a,b=>r(b),()=>r()),V(a,b=>v(l).action?.(b)),y(o,a)};B(P,o=>{c()?o(E):o(T,!1)})}y(s,M),z(),i()}function pt(s,t){const n=m(t,["children","$$slots","$$events","$$legacy"]),f=m(n,["class","delayMs"]);p(t,!1);let e=u(t,"class",8,void 0),d=u(t,"delayMs",8,void 0);N();{let i=q(()=>(A(L),A(e()),D(()=>L("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e()))));ht(s,U({get delayMs(){return d()},get class(){return v(i)}},()=>f,{children:(l,c)=>{var r=S(),_=C(r);w(_,t,"default",{}),y(l,r)},$$slots:{default:!0}}))}z()}function zt(s,t){const n=m(t,["children","$$slots","$$events","$$legacy"]),f=m(n,["class","src","alt"]);p(t,!1);let e=u(t,"class",8,void 0),d=u(t,"src",8,void 0),i=u(t,"alt",8,void 0);N();{let l=q(()=>(A(L),A(e()),D(()=>L("aspect-square h-full w-full",e()))));yt(s,U({get src(){return d()},get alt(){return i()},get class(){return v(l)}},()=>f))}z()}function Et(s,t){const n=m(t,["children","$$slots","$$events","$$legacy"]),f=m(n,["class"]);p(t,!1);let e=u(t,"class",8,void 0);N();{let d=q(()=>(A(L),A(e()),D(()=>L("bg-muted flex h-full w-full items-center justify-center rounded-full",e()))));At(s,U({get class(){return v(d)}},()=>f,{children:(i,l)=>{var c=S(),r=C(c);w(r,t,"default",{}),y(i,c)},$$slots:{default:!0}}))}z()}export{pt as A,Et as a,zt as b};

import{p as z,c as _,a as p,f as N,r as Z}from"./Yzt2urwL.js";import{i as R}from"./L_h9PJmK.js";import{u as P,g as l,b as O,p as A,f as S,a as C,c as U,I as V,r as X,J as T,y as q,z as b}from"./CVSPMpBs.js";import{i as I,b as D,a as Y,f as w}from"./DxmVAmoL.js";import{p as i,r as L,l as x,c as j}from"./BnCb6zDN.js";import{i as B}from"./DLN4-r4T.js";import{a as J,c as $,f as W,g as m,m as E}from"./CmyOBuUo.js";import{C as tt,D as et,w as st}from"./CYjlxGh2.js";const F=$({component:"avatar",parts:["root","image","fallback"]}),G=new tt("Avatar.Root");class H{static create(t){return G.set(new H(t))}opts;domContext;attachment;constructor(t){this.opts=t,this.domContext=new et(this.opts.ref),this.loadImage=this.loadImage.bind(this),this.attachment=J(this.opts.ref)}loadImage(t,r,a){if(this.opts.loadingStatus.current==="loaded")return;let s;const o=new Image;return o.src=t,r!==void 0&&(o.crossOrigin=r),a&&(o.referrerPolicy=a),this.opts.loadingStatus.current="loading",o.onload=()=>{s=this.domContext.setTimeout(()=>{this.opts.loadingStatus.current="loaded"},this.opts.delayMs.current)},o.onerror=()=>{this.opts.loadingStatus.current="error"},()=>{s&&this.domContext.clearTimeout(s)}}#t=P(()=>({id:this.opts.id.current,[F.root]:"","data-status":this.opts.loadingStatus.current,...this.attachment}));get props(){return l(this.#t)}set props(t){O(this.#t,t)}}class K{static create(t){return new K(t,G.get())}opts;root;attachment;constructor(t,r){this.opts=t,this.root=r,this.attachment=J(this.opts.ref),st.pre([()=>this.opts.src.current,()=>this.opts.crossOrigin.current],([a,s])=>{if(!a){this.root.opts.loadingStatus.current="error";return}this.root.loadImage(a,s,this.opts.referrerPolicy.current)})}#t=P(()=>({id:this.opts.id.current,style:{display:this.root.opts.loadingStatus.current==="loaded"?"block":"none"},"data-status":this.root.opts.loadingStatus.current,[F.image]:"",src:this.opts.src.current,crossorigin:this.opts.crossOrigin.current,referrerpolicy:this.opts.referrerPolicy.current,...this.attachment}));get props(){return l(this.#t)}set props(t){O(this.#t,t)}}class Q{static create(t){return new Q(t,G.get())}opts;root;attachment;constructor(t,r){this.opts=t,this.root=r,this.attachment=J(this.opts.ref)}#t=P(()=>this.root.opts.loadingStatus.current==="loaded"?{display:"none"}:void 0);get style(){return l(this.#t)}set style(t){O(this.#t,t)}#e=P(()=>({style:this.style,"data-status":this.root.opts.loadingStatus.current,[F.fallback]:"",...this.attachment}));get props(){return l(this.#e)}set props(t){O(this.#e,t)}}var rt=N("<div><!></div>");function at(f,t){const r=z();A(t,!0);let a=i(t,"delayMs",3,0),s=i(t,"loadingStatus",15,"loading"),o=i(t,"id",19,()=>W(r)),c=i(t,"ref",15,null),h=L(t,["$$slots","$$events","$$legacy","delayMs","loadingStatus","onLoadingStatusChange","child","children","id","ref"]);const v=H.create({delayMs:m(()=>a()),loadingStatus:m(()=>s(),e=>{s()!==e&&(s(e),t.onLoadingStatusChange?.(e))}),id:m(()=>o()),ref:m(()=>c(),e=>c(e))}),d=P(()=>E(h,v.props));var y=_(),M=S(y);{var u=e=>{var n=_(),k=S(n);I(k,()=>t.child,()=>({props:l(d)})),p(e,n)},g=e=>{var n=rt();D(n,()=>({...l(d)}));var k=U(n);I(k,()=>t.children??V),X(n),p(e,n)};B(M,e=>{t.child?e(u):e(g,!1)})}p(f,y),C()}var ot=N("<img/>");function it(f,t){const r=z();A(t,!0);let a=i(t,"id",19,()=>W(r)),s=i(t,"ref",15,null),o=i(t,"crossorigin",3,void 0),c=i(t,"referrerpolicy",3,void 0),h=L(t,["$$slots","$$events","$$legacy","src","child","id","ref","crossorigin","referrerpolicy"]);const v=K.create({src:m(()=>t.src),id:m(()=>a()),ref:m(()=>s(),e=>s(e)),crossOrigin:m(()=>o()),referrerPolicy:m(()=>c())}),d=P(()=>E(h,v.props));var y=_(),M=S(y);{var u=e=>{var n=_(),k=S(n);I(k,()=>t.child,()=>({props:l(d)})),p(e,n)},g=e=>{var n=ot();D(n,()=>({...l(d),src:t.src})),Z(n),p(e,n)};B(M,e=>{t.child?e(u):e(g,!1)})}p(f,y),C()}var nt=N("<span><!></span>");function lt(f,t){const r=z();A(t,!0);let a=i(t,"id",19,()=>W(r)),s=i(t,"ref",15,null),o=L(t,["$$slots","$$events","$$legacy","children","child","id","ref"]);const c=Q.create({id:m(()=>a()),ref:m(()=>s(),u=>s(u))}),h=P(()=>E(o,c.props));var v=_(),d=S(v);{var y=u=>{var g=_(),e=S(g);I(e,()=>t.child,()=>({props:l(h)})),p(u,g)},M=u=>{var g=nt();D(g,()=>({...l(h)}));var e=U(g);I(e,()=>t.children??V),X(g),p(u,g)};B(d,u=>{t.child?u(y):u(M,!1)})}p(f,v),C()}function vt(f,t){const r=x(t,["children","$$slots","$$events","$$legacy"]),a=x(r,["class","delayMs"]);A(t,!1);let s=i(t,"class",8,void 0),o=i(t,"delayMs",8,void 0);R();{let c=T(()=>(b(w),b(s()),q(()=>w("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s()))));at(f,j({get delayMs(){return o()},get class(){return l(c)}},()=>a,{children:(h,v)=>{var d=_(),y=S(d);Y(y,t,"default",{}),p(h,d)},$$slots:{default:!0}}))}C()}function yt(f,t){const r=x(t,["children","$$slots","$$events","$$legacy"]),a=x(r,["class","src","alt"]);A(t,!1);let s=i(t,"class",8,void 0),o=i(t,"src",8,void 0),c=i(t,"alt",8,void 0);R();{let h=T(()=>(b(w),b(s()),q(()=>w("aspect-square h-full w-full",s()))));it(f,j({get src(){return o()},get alt(){return c()},get class(){return l(h)}},()=>a))}C()}function _t(f,t){const r=x(t,["children","$$slots","$$events","$$legacy"]),a=x(r,["class"]);A(t,!1);let s=i(t,"class",8,void 0);R();{let o=T(()=>(b(w),b(s()),q(()=>w("bg-muted flex h-full w-full items-center justify-center rounded-full",s()))));lt(f,j({get class(){return l(o)}},()=>a,{children:(c,h)=>{var v=_(),d=S(v);Y(d,t,"default",{}),p(c,v)},$$slots:{default:!0}}))}C()}export{vt as A,_t as a,yt as b};

import{c as C,a as y,f as j,r as Z}from"./-FuLSoUc.js";import{i as N}from"./DjubARy5.js";import{am as ee,an as te,ao as J,p as z,A as k,h as $,C as B,f as S,a as p,c as K,r as Q,b as x,B as O,g as v,z as I,e as R}from"./DXVVLfSQ.js";import{o as ae,l as se,n as ne,m as G,p as H,a as w,d as q,j as V,f as L}from"./C1xZbYUD.js";import{l as m,p as u,i as D,b as U,d as le,s as X,a as Y,c as W}from"./BMKnGRz9.js";import{o as re}from"./DdQTE8kv.js";import{t as oe,c as ie,r as de,g as ce}from"./BJMk-txm.js";const ue={src:"",delayMs:0,onLoadingStatusChange:void 0},fe=s=>{const e={...ue,...s},n=oe(ae(e,"loadingStatus","onLoadingStatusChange")),{src:f,delayMs:t}=n,d=e.loadingStatus??ee("loading"),i=re(d,e?.onLoadingStatusChange);se([f,t],([r,_])=>{if(ne){const h=new Image;h.src=r,h.onload=()=>{if(t!==void 0){const A=window.setTimeout(()=>{i.set("loaded")},_);return()=>window.clearTimeout(A)}else i.set("loaded")},h.onerror=()=>{i.set("error")}}});const l=G("avatar-image",{stores:[f,i],returned:([r,_])=>{const h=H({display:_==="loaded"?"block":"none"});return{src:r,style:h}}}),c=G("avatar-fallback",{stores:[i],returned:([r])=>({style:r==="loaded"?H({display:"none"}):void 0,hidden:r==="loaded"?!0:void 0})});return{elements:{image:l,fallback:c},states:{loadingStatus:i},options:n}};function F(){return{NAME:"avatar",PARTS:["root","image","fallback"]}}function ge(s){const{NAME:e,PARTS:n}=F(),f=ie(e,n),t={...fe(de(s)),getAttrs:f};return te(e,t),{...t,updateOption:ce(t.options)}}function ve(s=""){const{NAME:e}=F(),n=J(e);return s?n.options.src.set(s):n.options.src.set(""),n}function me(){const{NAME:s}=F();return J(s)}var _e=j("<div><!></div>");function he(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["delayMs","loadingStatus","onLoadingStatusChange","asChild","el"]);z(e,!1);let t=u(e,"delayMs",24,()=>{}),d=u(e,"loadingStatus",28,()=>{}),i=u(e,"onLoadingStatusChange",24,()=>{}),l=u(e,"asChild",8,!1),c=u(e,"el",28,()=>{});const{states:{loadingStatus:r},updateOption:_,getAttrs:h}=ge({src:"",delayMs:t(),onLoadingStatusChange:({next:o})=>(d(o),i()?.(o),o)}),A=h("root");k(()=>$(d()),()=>{d()!==void 0&&r.set(d())}),k(()=>$(t()),()=>{_("delayMs",t())}),B(),N();var M=C(),P=S(M);{var E=o=>{var a=C(),g=S(a);w(g,e,"default",{get attrs(){return A}}),y(o,a)},T=o=>{var a=_e();q(a,()=>({...f,...A}));var g=K(a);w(g,e,"default",{get attrs(){return A}}),Q(a),U(a,b=>c(b),()=>c()),y(o,a)};D(P,o=>{l()?o(E):o(T,!1)})}y(s,M),p()}var be=j("<img/>");function ye(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["src","alt","asChild","el"]);z(e,!1);const t=()=>X(v(l),"$image",d),[d,i]=Y(),l=O(),c=O();let r=u(e,"src",24,()=>{}),_=u(e,"alt",24,()=>{}),h=u(e,"asChild",8,!1),A=u(e,"el",28,()=>{});const M={"data-bits-avatar-image":""};k(()=>$(r()),()=>{le(x(l,ve(r()).elements.image),"$image",d)}),k(()=>t(),()=>{x(c,t())}),k(()=>v(c),()=>{Object.assign(v(c),M)}),B(),N();var P=C(),E=S(P);{var T=a=>{var g=C(),b=S(g);w(b,e,"default",{get builder(){return v(c)}}),y(a,g)},o=a=>{var g=be();q(g,()=>({...v(c),alt:_(),...f})),U(g,b=>A(b),()=>A()),V(g,b=>v(c).action?.(b)),Z(g),y(a,g)};D(E,a=>{h()?a(T):a(o,!1)})}y(s,P),p(),i()}var Ae=j("<span><!></span>");function $e(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["asChild","el"]);z(e,!1);const t=()=>X(_,"$fallback",d),[d,i]=Y(),l=O();let c=u(e,"asChild",8,!1),r=u(e,"el",28,()=>{});const{elements:{fallback:_},getAttrs:h}=me(),A=h("fallback");k(()=>t(),()=>{x(l,t())}),k(()=>v(l),()=>{Object.assign(v(l),A)}),B(),N();var M=C(),P=S(M);{var E=o=>{var a=C(),g=S(a);w(g,e,"default",{get builder(){return v(l)}}),y(o,a)},T=o=>{var a=Ae();q(a,()=>({...v(l),...f}));var g=K(a);w(g,e,"default",{get builder(){return v(l)}}),Q(a),U(a,b=>r(b),()=>r()),V(a,b=>v(l).action?.(b)),y(o,a)};D(P,o=>{c()?o(E):o(T,!1)})}y(s,M),p(),i()}function Ne(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["class","delayMs"]);z(e,!1);let t=u(e,"class",8,void 0),d=u(e,"delayMs",8,void 0);N();{let i=I(()=>($(L),$(t()),R(()=>L("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t()))));he(s,W({get delayMs(){return d()},get class(){return v(i)}},()=>f,{children:(l,c)=>{var r=C(),_=S(r);w(_,e,"default",{}),y(l,r)},$$slots:{default:!0}}))}p()}function ze(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["class","src","alt"]);z(e,!1);let t=u(e,"class",8,void 0),d=u(e,"src",8,void 0),i=u(e,"alt",8,void 0);N();{let l=I(()=>($(L),$(t()),R(()=>L("aspect-square h-full w-full",t()))));ye(s,W({get src(){return d()},get alt(){return i()},get class(){return v(l)}},()=>f))}p()}function pe(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["class"]);z(e,!1);let t=u(e,"class",8,void 0);N();{let d=I(()=>($(L),$(t()),R(()=>L("bg-muted flex h-full w-full items-center justify-center rounded-full",t()))));$e(s,W({get class(){return v(d)}},()=>f,{children:(i,l)=>{var c=C(),r=S(c);w(r,e,"default",{}),y(i,c)},$$slots:{default:!0}}))}p()}export{Ne as A,pe as a,ze as b};
